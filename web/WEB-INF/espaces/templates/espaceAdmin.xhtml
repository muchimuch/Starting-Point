<ui:composition template="../templates/main.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets" 
                xmlns:f="http://java.sun.com/jsp/jstl/functions"
                xmlns:pretty="http://ocpsoft.com/prettyfaces"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <ui:define name="title">Espace Etudiant | HelpYAcademy</ui:define>
    <ui:define name="espace">
        <pretty:link styleClass="logo" mappingId="EspaceA_HOME">
            <span class="logo-mini"><b>HelpY</b></span>
            <span class="logo-lg"><b>ESPACE</b>Administrateur</span>
        </pretty:link>
    </ui:define>
    <ui:define name="username">${f:toUpperCase(adminBean.nom)} ${f:toUpperCase(adminBean.prenom)}</ui:define>
    <ui:define name="user-header">
        <p>
            ${f:toUpperCase(etudiantBean.nom)} ${f:toUpperCase(etudiantBean.prenom)}
            <small>Membre depuis #{empty adminBean.dateInscription ? '' : adminBean.dateInscriptionStr()}</small>
        </p>
    </ui:define>
    <ui:define name="profil-btn">
        <pretty:link mappingId="EspaceA_Profil" styleClass="btn btn-default btn-flat"> Profil </pretty:link>
    </ui:define>
    <ui:define name="logout-btn">
        <h:form>
            <h:commandLink styleClass="btn btn-danger btn-sm btn-flat" value="Deconnexion" action="#{adminBean.logout()}"/>
        </h:form>
    </ui:define>

    

     <ui:define name="notifications">
        <li class="dropdown notifications-menu">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <i class="fa fa-bell-o"></i>
                <span class="label label-warning">
                    <c:choose>
                        <c:when test="#{adminGestionProfInscriptionsBean.emptyInscriptions()}">
                            0
                        </c:when>
                        <c:otherwise>
                            #{adminGestionProfInscriptionsBean.inscriptions.size()}
                        </c:otherwise>
                    </c:choose>
                </span>
            </a>
            <ul class="dropdown-menu">
                <li class="header">
                    Vous avez #{adminGestionProfInscriptionsBean.inscriptions.size()} notifications.
                </li>
                <li>
                    <!-- inner menu: contains the actual data -->
                    <ul class="menu">
                        <ui:repeat value="#{adminGestionProfInscriptionsBean.inscriptions}" var="notif">
                            <li>
                                <pretty:link mappingId="GestionProfInscription">
                                    <i class="fa fa-users text-aqua"></i>
                                    <h:outputText title="Professeur #{notif.nom} #{notif.prenom} est inscrit." value="Professeur #{notif.nom} #{notif.prenom} est inscrit."/>
                                </pretty:link>
                            </li>
                        </ui:repeat>
                    </ul>
                </li>
                <li class="footer"><a href="#">View all</a></li>
            </ul>
        </li>
    </ui:define>

    <ui:define name="menu">
        <li class="treeview">
            <a href="#">
                <i class="fa fa-book"></i>
                <span> Gestion des Matières </span>
                <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
                <li>
                    <pretty:link mappingId="EspaceA_LNiveau">
                        <i class="fa fa-circle-o"></i> Liste des Niveaux
                    </pretty:link>
                </li>
                <li>
                    <pretty:link mappingId="EspaceA_LMatieres">
                        <i class="fa fa-circle-o"></i> Liste des Matières
                    </pretty:link>
                </li>
            </ul>
        </li>
        <li class="treeview">
            <a href="#">
                <i class="fa fa-book"></i>
                <span> Gestion des Professeurs </span>
                <i class="fa fa-angle-left pull-right"></i>
            </a>
            <ul class="treeview-menu">
                <li>
                    <pretty:link mappingId="GestionProfInscription">
                        <i class="fa fa-circle-o"></i> Gestion des Inscriptions
                    </pretty:link>
                </li>
            </ul>
        </li>
        <li>
            <pretty:link mappingId="EspaceA_Config">
                <i class="fa fa-gear"></i> <span> Configurations</span>
            </pretty:link>
        </li>
    </ui:define>

</ui:composition>
