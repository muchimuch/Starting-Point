<ui:composition template="../templates/espaceEtudiant.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="title">Mes Cours | HelpYAcademy</ui:define>
    <ui:define name="page-title"> <i class="fa fa-book"></i> Mes Cours</ui:define>
    <ui:define name="page-subtitle"></ui:define>
    <ui:define name="page-content">
        <h:messages styleClass="alert #{conferanceBean.success ? 'alert-success':'alert-danger'} col-sm-12" style="padding-left: 40px;margin-top:10px"/>

        <div class="col-sm-12" style="padding: 0">
            <c:choose>
                <c:when test="#{conferanceBean.emptyListCours()}">
                    <p class="text-center text-muted" style="margin-top: 80px;font-size: 2.3em">Pas de Cours</p>
                </c:when>
                <c:otherwise>
                    <div class="panel panel-default">
                        <div class="panel-heading col-sm-12" style="padding: 5px">
                            <c:if test="#{conferanceBean.PrecedentTest()}">
                                <h:form>
                                    <h:commandButton action="#{conferanceBean.coursPrecedent()}" value="Cours Précédent (#{conferanceBean.diffCoursPrecedent()})" styleClass="btn btn-sm btn-default pull-left"></h:commandButton>
                                </h:form>
                            </c:if>
                            <c:if test="#{conferanceBean.SuivantTest()}">
                                <h:form>
                                    <h:commandButton action="#{conferanceBean.coursSuivant()}" value="Cours Suivant (#{conferanceBean.diffCoursSuivant()})" styleClass="btn btn-sm btn-info pull-right"></h:commandButton>
                                </h:form>
                            </c:if>
                        </div>
                        <div class="panel-body">
                            <div class="col-sm-6 col-sm-offset-3" style="margin-top: 40px;margin-bottom: 30px">
                                <div class="clock pull-left" style="margin-top: 30px;margin-left: 30px"></div>
                                <a style="margin-top: 10px" id="start" class="btn btn-success col-xs-12 disabled" href="#{conferanceBean.startConfEtudiant()}" target="_blank">Commancer le Cours</a>
                            </div>
                            <table class="table table-bordered">
                                <tr>
                                    <td class="text-center"><b>Date Début : </b>#{conferanceBean.cours.dateDebut}</td>
                                    <td class="text-center"><b>Heure Début : </b>#{conferanceBean.cours.heureDebutString}</td>
                                    <td class="text-center"><b>Durée : </b>#{conferanceBean.dureeTotal()}</td>
                                    <td class="text-center"><b>Prix : </b>#{conferanceBean.cours.prix} DH</td>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Nom de Professeur : </b> #{conferanceBean.cours.idProf.nom.toUpperCase()} #{conferanceBean.cours.idProf.prenom.toUpperCase()}
                                    </td>
                                    <td rowspan="4" colspan="3">
                                        <b class="pull-left">Vos Questions : </b> <h:outputText value="#{conferanceBean.cours.description}" escape="false" style="margin-left:10px" styleClass="pull-left"/>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Matiere : </b> #{conferanceBean.cours.idMatiere.matiere}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Niveau du Matiere : </b> #{conferanceBean.cours.idMatiere.idNiveau.niveau}
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <b>Titre du Cours : </b> #{conferanceBean.cours.titre}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <table>
                    </table>
                </c:otherwise>
            </c:choose>
        </div>
    </ui:define>
    <ui:define name="js">
        <h:outputScript library="js" name="flipclock.min.js" />
        <script>
            var clock;
            clock = $('.clock').FlipClock({
                clockFace: 'DailyCounter',
                autoStart: false,
                callbacks: {
                    stop: function () {
                        $('#start').removeClass('disabled');
                    }
                }
            });
            clock.setTime(#{conferanceBean.countDown()});
            clock.setCountdown(true);
            clock.start();
        </script>
    </ui:define>
    <ui:define name="css">
        <h:outputStylesheet library="css" name="flipclock.css" />
    </ui:define>
</ui:composition>
