<ui:composition template="../../templates/espaceAdmin.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">Liste des Nouvelles Inscriptions | HelpYAcademy</ui:define>
    <ui:define name="page-title">
        Liste des Nouvelles Inscriptions
    </ui:define>
    <ui:define name="page-subtitle"></ui:define>

    <ui:define name="page-content">
        <h:messages styleClass="alert #{adminGestionProfInscriptionsBean.success ? 'alert-success':'alert-danger'} col-sm-12" style="padding-left: 40px;margin-top:10px"/>

        <div class="col-sm-12" style="padding: 0">
            <c:choose>
                <c:when test="#{adminGestionProfInscriptionsBean.emptyInscriptions()}">
                    <p class="text-center text-muted" style="margin-top: 80px;font-size: 2.3em">Pas de Nouvelles Inscriptions</p>
                </c:when>
                <c:otherwise>
                    <h:dataTable
                        value="#{adminGestionProfInscriptionsBean.inscriptions}" var="p"
                        styleClass="table table-bordered table-striped"
                        style="background-color: white;margin-top: 15px"
                        >
                        <h:column  headerClass="col-sm-10">    				
                            <f:facet name="header">Email</f:facet>    				
                                #{p.email}
                        </h:column>
                        <h:column  headerClass="col-sm-10">    				
                            <f:facet name="header">Nom</f:facet>    				
                                #{p.nom}
                        </h:column>
                        <h:column  headerClass="col-sm-10">    				
                            <f:facet name="header">Pr√®nom</f:facet>    				
                                #{p.prenom}
                        </h:column>
                        <h:column  headerClass="col-sm-10">    				
                            <f:facet name="header">Tele</f:facet>    				
                                #{p.tel}
                        </h:column>
                        <!-- Diplomes -->
                        <h:column headerClass="col-sm-1">    				
                            <f:facet name="header"></f:facet>    				
                            <h:form>
                                <h:commandButton id="diplome" value="Diplomes" styleClass="btn btn-sm btn-primary" action="#{adminGestionProfInscriptionsBean.getProfDiplomes(p)}"
                                                 onclick="$('#DiplomeModal').modal('show');">
                                    <f:ajax execute="@this" render="diplomeForm"/>
                                </h:commandButton>
                            </h:form>
                        </h:column>
                        <!-- Accepter -->
                        <h:column headerClass="col-sm-1">    				
                            <f:facet name="header"></f:facet>    				
                            <h:form onsubmit="return confirm('Vous voulez vraiment continuer ?')">
                                <h:commandButton id="accepter" styleClass="btn btn-sm btn-success" value="Accepter" action="#{adminGestionProfInscriptionsBean.Accepter(p)}" />
                            </h:form>
                        </h:column>
                        <!-- refuser -->
                        <h:column headerClass="col-sm-1">    				
                            <f:facet name="header"></f:facet>    				
                            <h:form onsubmit="return confirm('Vous voulez vraiment continuer ?')">
                                <h:commandButton id="refuser" styleClass="btn btn-sm btn-danger" value="Refuser" action="#{adminGestionProfInscriptionsBean.Refuser(p)}" />
                            </h:form>
                        </h:column>
                    </h:dataTable>
                </c:otherwise>
            </c:choose>
        </div>

        <!-- Diplome Niveau Modal -->
        <div class="modal fade" id="DiplomeModal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <h:form id="diplomeForm">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fa fa-close"></i></span></button>
                            <h4 class="modal-title" id="myModalLabel">Diplomes du Professeur #{adminGestionProfInscriptionsBean.nom}:</h4>
                        </div>
                        <ul class="list-group">
                            <ui:repeat value="#{adminGestionProfInscriptionsBean.diplomes}" var="dip">
                                <li class="list-group-item">#{dip.diplome}</li>
                            </ui:repeat>
                        </ul>
                    </h:form>
                </div>
            </div>
        </div>

    </ui:define>

</ui:composition>
